<div>
  <q-btn v-if="isConecting" split unelevated color="primary" label="Trezor">
    <q-spinner color="secodary"></q-spinner>
  </q-btn>
  <q-btn-dropdown
    v-else
    @click="connectToDevice"
    split
    unelevated
    color="primary"
    label="Trezor"
  >
    <q-list>
      <q-item clickable v-close-popup>
        <q-item-section  @click="connectToDevice" >
          <q-item-label>Connect</q-item-label>
          <q-item-label caption
            >Connect to your trezor device.</q-item-label
          >
        </q-item-section>
      </q-item>

    </q-list>
  </q-btn-dropdown>

  <q-dialog v-model="showFeatures" position="top">
    <q-card v-if="features" class="q-pa-lg q-pt-md">
      <q-card-section>
        <h5>
          Connected to Trezor device

          "<span v-text="features.payload.label"></span>"
        </h5>
        <q-input
          filled
          dense
          for="serial-port-console"
          v-model.trim="featuresJson"
          type="textarea"
          rows="20"
          cols="200"
          label="Device Features"
        ></q-input>
      </q-card-section>

      <q-card-section>
        <div class="row q-mt-lg">
          <q-btn v-close-popup flat color="grey" class="q-ml-auto">Close</q-btn>
        </div>
      </q-card-section>
    </q-card>
  </q-dialog>
</div>
